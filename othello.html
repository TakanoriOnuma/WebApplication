<!DOCTYPE html>
<html lang="ja">
<head>
<title>オセロ</title>
<meta charset="UTF-8" />
<script language="JavaScript" src="player.js"></script>
<script language="JavaScript" src="othello_process.js"></script>
<script language="JavaScript">
//*******************************************************************
//**　グローバル変数定義（どの関数からも参照可能） **
//*******************************************************************
var black = 1;      // 黒
var white = 2;      // 白

var player1 = new Human(black - 1);
var player2 = new Human(white - 1);
var now_player = player1;       // 今プレイするプレイヤー（石を置くプレイヤー）

var table = new Array(); 
for (i = 0; i < 64; i++) {
    table[i] = 0;
};
// 初期の配置
table[27] = table[36] = white;
table[28] = table[35] = black;
// 画像の設定
var images = new Array();
images[0] = new Image(); images[0].src = "images/background.gif";
images[1] = new Image(); images[1].src = "images/black.gif";
images[2] = new Image(); images[2].src = "images/white.gif";
images[3] = new Image(); images[3].src = "images/reverse.gif";


//*******************************************************************
//** 開始(startは使えないため、g_startにした) **
//*******************************************************************
function g_start() {
    alert("start");
    main();            // メインへ飛ぶ
}

//*******************************************************************
//** メイン **
//*******************************************************************
function main() {
    now_player.input();
}


//*******************************************************************
//** (i % 8, i / 8)に石を置く **
//*******************************************************************
function input(i) {
    // プレイヤーが人間か
    if (now_player instanceof Human) {
        now_player.self_input(i);
    }
};

// 仮の次の処理（入力後の反転処理などがここに入る）
function next() {
    // 次のプレイヤーへ移る
    now_player = (now_player == player1) ? player2 : player1;
}

//*******************************************************************
//** ロジック終了 **
//*******************************************************************
</script>

</head>

<body bgcolor="#eeffee" text="#111122">
<br />
<div align="center"><input type="button" value="スタート" onClick="g_start()"></div>
<br />
<table align="center" border=3 bgcolor="#006633">
<tr><td>
<script language="JavaScript">
var i;
// オセロの画像を設置
for (i = 0; i < 64; i++) {
    document.write('<a href="JavaScript:input(',i,')"><img src="images/background.gif" width=38 height=38 border=0></a>');
    if(i % 8 == 7) {
        document.write('<br />');
    };
};
// 初期の白と黒の石を設置
document.images[27].src = images[white].src;
document.images[28].src = images[black].src;
document.images[35].src = images[black].src;
document.images[36].src = images[white].src;
</script>
</td></tr>
</table>
</body>
</html>